from django.conf.urls.defaults import patterns, include, url

# Uncomment the next two lines to enable the admin:
from django.contrib import admin, databrowse

from web.models import *
from web import views
from django.views.generic import  DetailView, ListView
from django.views.generic.edit import FormView

from django.views.generic.simple import direct_to_template

#from taggit

import logging
databrowse.site.register(Character)
databrowse.site.register(CharacterRelationship)
databrowse.site.register(Creature)
databrowse.site.register(CreatureRelationship)
databrowse.site.register(Object)
databrowse.site.register(ObjectRelationship)
databrowse.site.register(Author)
databrowse.site.register(Location)
databrowse.site.register(Image)
databrowse.site.register(Language)
databrowse.site.register(Religion)
databrowse.site.register(Adventure)
databrowse.site.register(Chronicle)
#databrowse.site.register(Tags)
#databrowse.site.register(TaggableManager)

admin.autodiscover()

urlpatterns = patterns('',
    # Examples:
    # url(r'^$', 'codex.views.home', name='home'),
    # url(r'^codex/', include('codex.foo.urls')),

    # Uncomment the admin/doc line below to enable admin documentation:
    # url(r'^admin/doc/', include('django.contrib.admindocs.urls')),

    # Uncomment the next line to enable the admin:
    url(r'^admin/', include(admin.site.urls)),
    (r'^db/(.*)', databrowse.site.root),
    (r'^grappelli/', include('grappelli.urls')),
    
    (r'^character/(?P<pk>\d+)/$',views.CharacterDetailView),
    (r'^creature/(?P<pk>\d+)/$',views.CreatureDetailView),
    (r'^location/(?P<pk>\d+)/$',views.LocationDetailView),
    (r'^adventure/(?P<pk>\d+)/$',views.AdventureDetailView),
    (r'^chronicle/(?P<pk>\d+)/$',views.ChronicleDetailView),
    (r'^object/(?P<pk>\d+)/$',views.ObjectDetailView),
#    (r'^search/', include('haystack.urls')),
    (r'^search/(?P<searchfilter>all|object|character|creature|location|adventure|chronicle)/(?P<searchterm>.*)/$',views.SimpleSearchView),
    (r'^search/$',views.SearchRedirectView),
    (r'^advancedsearch/$',views.AdvancedSearchView),
    (r'^resadvancedsearch/$',views.ResultsAdvancedSearchView),

    (r'^$', views.IndexView),


)

